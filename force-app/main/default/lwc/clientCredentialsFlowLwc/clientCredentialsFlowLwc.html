<template>
    <div class="slds-var-m-around_x-large">
        <lightning-card title="Client Credentials Flow" icon-name="action:announcement" >
            <lightning-helptext icon-name="utility:salesforce1" content="Context User is Service Provider" slot="actions" class="slds-var-p-around_medium"></lightning-helptext>
            <div class="slds-var-p-around_medium">
                <lightning-input name="my_domain" type="text" label="My Domain token endpoint" placeholder="Ex: https://db000000fx1yhmal-dev-ed.my.salesforce.com/services/oauth2/token" value="https://db000000fx1yhmal-dev-ed.my.salesforce.com/services/oauth2/token" onchange={handleURLChange}></lightning-input>
                <lightning-input name="client_id" type="text" label="Client Id" placeholder="Ex: 3MVG9SemV5D80oBc_4KF2WNxqFyTGpVDdV2.YP4BiZ04w.1s9jhfPPDRXqcxtnN_mJEbBHpbni3BAlrZ7Wpw_" value="3MVG9SemV5D80oBc_4KF2WNxqFyTGpVDdV2.YP4BiZ04w.1s9jhfPPDRXqcxtnN_mJEbBHpbni3BAlrZ7Wpw_" onchange={handleChange}></lightning-input>
                <lightning-input name="client_secret" type="password" label="Client Secret" placeholder="Ex: 7AC67B6A90F4904039C47D4DFAEA933F09A67B4CE097919BEF3273C88728EB47" value="7AC67B6A90F4904039C47D4DFAEA933F09A67B4CE097919BEF3273C88728EB47" onchange={handleChange}></lightning-input>
                <div class="slds-p-top--small">
                    <lightning-button variant="brand" label="Get Access Token" onclick={getToken}></lightning-button>
                </div>
                <template lwc:if={tokenReady}>
                    <div class="slds-p-top--small">
                        <b>
                            Session ID: {sessionId}
                        </b>
                        <br/><br/>
                        <img src="https://i.imgur.com/QiohjwO_d.webp?maxwidth=760&fidelity=grand" alt="200 success" width="400" height="500" class="slds-align_absolute-center">
                    </div>
                </template>
                <template lwc:if={badStatus}>
                    <div class="slds-p-top--small">
                        <img src="https://indianmemetemplates.com/wp-content/uploads/Bhai-kya-kar-raha-hai-tu.jpg" alt="400 failure" width="400" height="500" class="slds-align_absolute-center">
                    </div>
                </template>
            </div>
        </lightning-card>
    </div>
</template>